@model GetByIdMessageDto
@{
    ViewData["Title"] = "ReceivedMessageDetail";
    Layout = "~/Areas/Admin/Views/AdminLayout/Index.cshtml";
}


<section class="section">
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-body">
                    <div class="my-4">
                        <h5>Mesaj Detayları</h5>
                    </div>

                    <!-- Mesaj Detayları -->
                    <div class="row mb-3">
                        <div class="col-3 fw-bold text-end">Gönderen:</div>
                        <div class="col-9">@ViewBag.SenderUserName</div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-3 fw-bold text-end">Konu:</div>
                        <div class="col-9">@Model.Subject</div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-3 fw-bold text-end">Tarih:</div>
                        <div class="col-9">@Model.MessageDate.ToString("dd/MM/yyyy")</div>
                    </div>

                    <div class="row mb-4">
                        <div class="col-3 fw-bold text-end">Mesaj İçeriği:</div>
                        <div class="col-9">
                            <p class="border p-3 rounded bg-light">@Model.MessageDetail</p>
                        </div>
                    </div>

                    <!-- Cevaplama Alanı -->
                    <div class="row mb-4">
                        <div class="col-3 fw-bold text-end">Cevap Yazın:</div>
                        <div class="col-9">
                            <form method="post" action="/Admin/Message/CreateMessage">
                                <textarea name="MessageDetail" class="form-control" rows="5" placeholder="Mesajınızı buraya yazın..."></textarea>

                                <input type="hidden" name="ReceivedId" value="@Model.SenderId" />
                                <input type="hidden" name="SenderId" value="@Model.ReceivedId" />
                                <input type="hidden" name="Subject" value="@Model.Subject" />
                                <input type="hidden" name="IsRead" value="false" />
                                <input type="hidden" name="MessageDate" value="@DateTime.UtcNow.ToString("yyyy-MM-ddTHH:mm:ss.fffZ")" />

                                <div class="mt-3">
                                    <button type="submit" class="btn btn-primary">Cevabı Gönder</button>
                                    
                                </div>
                            </form>
                        </div>
                    </div>

                </div>
            </div>
            <!-- Geri Dön Butonu -->
            <div class="row">
                <div class="col-12">
                    <a href="/Admin/Message/ReceivedMessageList" class="btn btn-secondary">Geri Dön</a>
                </div>
            </div>
        </div>
    </div>
</section>



